@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  a {
    @apply transition-all duration-200;
  }
  article a {
    @apply border-b-2 text-stone-800 border-stone-400 hover:text-stone-600 hover:border-stone-600 dark:text-stone-200 dark:hover:text-stone-400 dark:border-stone-600 dark:hover:border-stone-400;
  }
  article ol li,
  article ul li {
    @apply border-b border-dotted border-stone-400 dark:border-stone-600 py-1;
  }
  article ol li:last-child,
  article ul li:last-child {
    @apply border-b-0;
  }
  article ol {
    @apply list-decimal list-inside;
  }
  article ul {
    @apply list-disc list-inside;
  }
  blockquote {
    @apply ml-7 before:content-['“'] before:font-serif before:text-6xl before:absolute before:-ml-8 before:mt-[-0.25em] before:text-stone-400 before:dark:text-stone-600;
  }
  blockquote cite {
    @apply block mt-[1em] font-bold font-sans not-italic text-sm before:content-["–"] before:mr-1;
  }
  blockquote p {
    @apply font-serif italic text-xl md:text-2xl;
  }
  body {
    @apply font-serif leading-7 bg-stone-300 text-stone-700 dark:bg-stone-700 dark:text-stone-300;
  }
  dt {
    @apply font-normal;
  }
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-sans font-bold mt-[1em] mb-[0.25em] tracking-tight;
  }
  h1 a,
  h2 a,
  h3 a,
  h4 a,
  h5 a,
  h6 a {
    @apply font-bold border-0;
  }
  h1 {
    @apply text-4xl md:text-6xl mt-0;
  }
  h2 {
    @apply text-3xl;
  }
  h3 {
    @apply text-2xl;
  }
  h4 {
    @apply text-xl;
  }
  h5 {
    @apply text-lg;
  }
  h6 {
    @apply text-base;
  }
  main > blockquote,
  main > div,
  main > dl,
  main > figure,
  main > ol,
  main > p,
  main > pre,
  main > table,
  main > ul {
    @apply mt-6;
  }

  pre {
    @apply overflow-x-auto font-mono font-normal bg-stone-950 text-stone-50 rounded p-4;
  }
}

@layer components {
  .btn {
    @apply inline-block transition-all duration-200 font-sans text-sm font-normal px-6 py-2 border rounded border-stone-400 bg-stone-200 hover:bg-stone-100 text-stone-800 hover:text-stone-900 dark:border-stone-500 dark:bg-stone-600 dark:hover:bg-stone-400 dark:text-stone-200 dark:hover:text-stone-200;
  }
  .btn-xs {
    @apply btn px-3 py-1 text-xs;
  }
  .container {
    @apply mx-auto px-4 max-w-[48rem];
  }
  .container > div,
  .container > footer,
  .container > form,
  .container > header,
  .container > main > *:not(.wide):not(span) {
    @apply sm:mx-[3rem];
  }
  .container > main > .wide,
  .container > main > figure.wp-block-image,
  .container > main > figure.wp-block-gallery,
  .container > main > .wp-block-embed.wp-has-aspect-ratio,
  .container > main > .wp-block-embed .wp-block-embed__wrapper div,
  .container > main > .wp-block-embed .wp-block-embed__wrapper iframe {
    @apply sm:mx-auto;
  }
  .level-1 {
    @apply bg-stone-200 dark:bg-stone-600;
  }
  .main-menu a {
    @apply inline-block border-b-2 text-stone-500 border-transparent hover:text-stone-800 hover:border-stone-400 dark:text-stone-400 dark:hover:text-stone-100 dark:hover:border-stone-400;
  }
  .main-menu .current-menu-item a {
    @apply border-stone-300 text-stone-800 dark:border-stone-500 dark:text-stone-100;
  }
  .post-abstract h1,
  .post h1:not(:first-of-type) {
    @apply bg-red-500 text-white text-base; /* because it shouldn't happen */
  }
  .post-abstract h2 {
    @apply md:text-4xl mt-0;
  }
}
